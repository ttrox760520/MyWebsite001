@model myhtml.Models.Student

@{
    ViewBag.Title = "學生詳細資料";@ViewBag.newuserid
}

<hr />

@using (Html.BeginForm("Details", "StudentList", FormMethod.Post, new { @id = "form" }))
{
    <pre>   
           學號：@Html.TextBoxFor(m => m.StudentID, new { disabled = "disabled" }) @Html.HiddenFor(m => m.StudentID)<br />
           座號：@Html.TextBoxFor(m => m.ClassID, new {@class="ClassID" , disabled = "true" }) @Html.HiddenFor(m => m.ClassID)<br />
           姓名：@Html.TextBoxFor(m => m.Name, new {@class="Name" , disabled = "true" }) @Html.HiddenFor(m => m.Name)<br />
           暱稱：@Html.TextBoxFor(m => m.Nickname, new {@class="Nickname" , disabled = "true"  }) @Html.HiddenFor(m => m.Nickname)<br />
           電話：@Html.TextBoxFor(m => m.Phone, new {@class="Phone" , disabled = "true"  }) @Html.HiddenFor(m => m.Phone)<br />
           地址：@Html.TextBoxFor(m => m.Address, new {@class="Address" , disabled = "true"  }) @Html.HiddenFor(m => m.Address)<br />
     緊急聯絡人：@Html.TextBoxFor(m => m.EmergencyContact, new {@class="EmergencyContact" , disabled = "true"  }) @Html.HiddenFor(m => m.EmergencyContact)<br />
 緊急連絡人電話：@Html.TextBoxFor(m => m.EmergencyPhone, new {@class="EmergencyPhone" , disabled = "true"  }) @Html.HiddenFor(m => m.EmergencyPhone)<br />
               <input type="submit" value="確定" id="submit" name="submit">     <input type="button" value="修改" id="edit" name="edit"><br />
               <input type="submit" value="確定修改" id="editsubmit" name="editsubmit" style="visibility:hidden">
    </pre>
}

@section scripts{
    <script type="text/javascript">
        var Login = '@Session["Login"]';
        $(document).ready(
            function ()
            {
                
                var message = '@ViewData["Message"]';
                if (message != null && message != '') {
                    alert(message);
                }
            }
        );

        document.getElementById("edit").onclick = function () { EditFunction()};
        function EditFunction() {
            
            $('#ClassID').attr("disabled", false);
            $('#Name').attr("disabled", false);
            $('#Nickname').attr("disabled", false);
            $('#Phone').attr("disabled", false);
            $('#Address').attr("disabled", false);
            $('#EmergencyContact').attr("disabled", false);
            $('#EmergencyPhone').attr("disabled", false);
            document.all["submit"].style.visibility = "hidden";
            document.all["edit"].style.visibility = "hidden";
            document.all["editsubmit"].style.visibility = "visible";
        };

        document.getElementById("editsubmit").onclick = function () { return DataCompare()};
        function DataCompare(){
            
            var ClassID = '@Model.ClassID';
            var NewClassID = $('#ClassID').val();
            var Name = '@Model.Name';
            var NewName = $('#Name').val();
            var Nickname = '@Model.Nickname';
            var NewNickname = $('#Nickname').val();
            var Phone = '@Model.Phone';
            var NewPhone = $('#Phone').val();
            var Address = '@Model.Address';
            var NewAddress = $('#Address').val();
            var EmergencyContact = '@Model.EmergencyContact';
            var NewEmergencyContact = $('#EmergencyContact').val();
            var EmergencyPhone = '@Model.EmergencyPhone';
            var NewEmergencyPhone = $('#EmergencyPhone').val();
            if ( ClassID == NewClassID && Name == NewName && Nickname == NewNickname && Phone == NewPhone && Address == NewAddress && EmergencyContact == NewEmergencyContact && EmergencyPhone == NewEmergencyPhone)
            {
                alert("資料完全相同,尚未修改!");
                return false;
            }
        };

    </script>
}






@*

    document.getElementById("editsubmit").onclick = function () { return DataCompare();  };
    function DataCompare()
    {
        var ID = '@Model.EmergencyContact';
        var NewID = $('#EmergencyContact').val();
        var Number = '@Model.EmergencyContact';
        var NewNumber = $('#ClassID').val();
        var NickName = '@Model.Name';
        var NewNickName = $('#Name').val();
        var Phone = '@Model.Nickname';
        var NewPhone = $('#Nickname').val();
        var Address = '@Model.Phone';
            var NewAddress = $('#Phone').val();
      var Family = '@Model.Address');
            var NewFamily = $('#Address').val();
            var FamilyPhone = '@Model.EmergencyPhone';
            var NewFamilyPhone = $('#EmergencyPhone').val();
            if (StudentID == NewID && Number == NewNumber && NickName == NewNickName && Phone == NewPhone && Address == NewAddress && Family == NewFamily && FamilyPhone == NewFamilyPhone)
            {
            alert("資料完全相同,尚未修改!");
            return false;
            }
            var checkEmail = document.getElementById("Email").value;
            var EmailRule = /^([a-zA-Z0-9_\.\-\+])+\@@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!EmailRule.test(checkEmail))
            {
                alert("信箱格式錯誤");
                return false;
            }
            檢查信箱格式
            };




*@

